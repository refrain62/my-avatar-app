# 仕様書兼開発計画: SVGアバタージェネレーター

## 1. プロジェクト概要

複数のSVGパーツ（髪、顔、服など）をユーザーが自由に組み合わせ、オリジナルのアバターを作成できるWebアプリケーション。完成したアバターは、単一のSVGファイルとしてダウンロードできる。

- **目的:** ユーザーに直感的で楽しいアバター作成体験を提供する。
- **主要機能:** パーツ選択、リアルタイムプレビュー、SVGファイルのエクスポート。

## 2. 技術スタック

- **フレームワーク:** React
- **言語:** TypeScript
- **ビルドツール:** Vite
- **パッケージマネージャー:** pnpm
- **UIライブラリ:** Material-UI (MUI Core)

## 3. システムアーキテクチャ

**クライアントサイド完結型**のアーキテクチャを採用。すべての画像合成処理とファイル生成は、ユーザーのブラウザ内で完結させる。これにより、サーバー負荷を最小限に抑え、静的ホスティングでの運用を可能にする。

## 4. 機能仕様

- **パーツ選択機能:**
    - MUIのTabsコンポーネントで「髪」「顔」などのカテゴリを表示。
    - MUIのImageListコンポーネントで、カテゴリに属するパーツのサムネイルを一覧表示。
- **アバタープレビュー機能:**
    - 選択されたSVGパーツをCSSで重ね合わせてリアルタイムに表示。
- **SVGエクスポート機能:**
    - プレビュー中の各SVG要素を一つの`<svg>`タグに統合し、単一のSVGファイルとしてダウンロードさせる。

## 5. 開発作業リストと進捗

### フェーズ1: 基盤構築

- [x] **タスク1.1: プロジェクトセットアップ**
    - `pnpm create vite my-avatar-app --template react-ts` を実行済み。
- [x] **タスク1.2: MUIライブラリのインストール**
    - `pnpm add @mui/material @emotion/react @emotion/styled` を実行済み。
- [ ] **タスク1.3: ディレクトリ構成の整備**
    - `src`内に`components`, `pages`, `assets/svg`ディレクトリを作成する。
    - `assets/svg`内に`body`, `hair`, `face`, `clothes`などのカテゴリ別フォルダを作成する。
    - *（注: 前回の実行はユーザーによってキャンセルされました）*
- [ ] **タスク1.4: SVGパーツの準備と配置**
    - 各カテゴリのサンプルSVGファイルを`assets/svg`以下の対応するフォルダに配置する。

### フェーズ2: UIコンポーネント実装

- [ ] **タスク2.1: メインレイアウトの作成 (`App.tsx`)**
- [ ] **タスク2.2: パーツ選択UIの実装 (`PartSelector.tsx`)**
- [ ] **タスク2.3: プレビュー表示UIの実装 (`AvatarPreview.tsx`)**

### フェーズ3: 機能ロジックの実装

- [ ] **タスク3.1: 状態管理の実装**
- [ ] **タスク3.2: SVGエクスポート機能の実装 (`ExportButton.tsx`)**

### フェーズ4: 仕上げとテスト

- [ ] **タスク4.1: スタイリングとレスポンシブ対応**
- [ ] **タスク4.2: 単体テスト・結合テスト**
